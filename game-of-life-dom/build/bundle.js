var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function c(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function f(){return h(" ")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let m;function p(t){m=t}function $(t){(function(){if(!m)throw new Error("Function called outside component initialization");return m})().$$.on_mount.push(t)}const E=[],b=[],A=[],y=[],x=Promise.resolve();let v=!1;function C(t){A.push(t)}const w=new Set;let I=0;function L(){const t=m;do{for(;I<E.length;){const t=E[I];I++,p(t),S(t.$$)}for(p(null),E.length=0,I=0;b.length;)b.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];w.has(e)||(w.add(e),e())}A.length=0}while(E.length);for(;y.length;)y.pop()();v=!1,w.clear(),p(t)}function S(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const _=new Set;function V(t,e){-1===t.$$.dirty[0]&&(E.push(t),v||(v=!0,x.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function k(l,i,s,c,u,h,f,g=[-1]){const d=m;p(l);const $=l.$$={fragment:null,ctx:null,props:h,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(d?d.$$.context:[])),callbacks:n(),dirty:g,skip_bound:!1,root:i.target||d.$$.root};f&&f($.root);let E=!1;if($.ctx=s?s(l,i.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return $.ctx&&u($.ctx[t],$.ctx[t]=o)&&(!$.skip_bound&&$.bound[t]&&$.bound[t](o),E&&V(l,t)),e})):[],$.update(),E=!0,o($.before_update),$.fragment=!!c&&c($.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);$.fragment&&$.fragment.l(t),t.forEach(a)}else $.fragment&&$.fragment.c();i.intro&&((b=l.$$.fragment)&&b.i&&(_.delete(b),b.i(A))),function(t,n,l,i){const{fragment:s,on_mount:a,on_destroy:c,after_update:u}=t.$$;s&&s.m(n,l),i||C((()=>{const n=a.map(e).filter(r);c?c.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(C)}(l,i.target,i.anchor,i.customElement),L()}var b,A;p(d)}function D(t,e,n){const o=t.slice();return o[7]=e[n],o[9]=n,o}function N(t,e,n){const o=t.slice();return o[7]=e[n],o[11]=n,o}function T(e){let n,o,r;return{c(){n=u("td"),d(n,"id",e[11]+","+e[9]),d(n,"class","svelte-hmi1a6")},m(t,l){s(t,n,l),o||(r=g(n,"click",e[2]),o=!0)},p:t,d(t){t&&a(n),o=!1,r()}}}function G(t){let e,n,o=Array(t[3].width),r=[];for(let e=0;e<o.length;e+=1)r[e]=T(N(t,o,e));return{c(){e=u("tr");for(let t=0;t<r.length;t+=1)r[t].c();n=f(),d(e,"class","svelte-hmi1a6")},m(t,o){s(t,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);i(e,n)},p(t,l){if(4&l){let i;for(o=Array(t[3].width),i=0;i<o.length;i+=1){const s=N(t,o,i);r[i]?r[i].p(s,l):(r[i]=T(s),r[i].c(),r[i].m(e,n))}for(;i<r.length;i+=1)r[i].d(1);r.length=o.length}},d(t){t&&a(e),c(r,t)}}}function B(e){let n,o,r,l,m,p,$,E,b,A,y,x,v,C,w,I,L=Array(e[3].height),S=[];for(let t=0;t<L.length;t+=1)S[t]=G(D(e,L,t));return{c(){n=u("main"),o=u("h1"),r=h(e[0]),l=f(),m=u("p"),m.textContent="Technologies: Javascript + some Svelte. Using DOM (no canvas).",p=f(),$=u("p"),$.innerHTML='<a href="https://github.com/llagerlof/game-of-life-dom">GitHub</a> | Author: Lawrence Lagerlof',E=f(),b=u("p"),b.textContent=`Grid width: ${e[3].width} | Grid height: ${e[3].height}`,A=f(),y=u("div"),x=u("table");for(let t=0;t<S.length;t+=1)S[t].c();v=f(),C=u("button"),C.textContent="Advance generation",d(o,"class","svelte-hmi1a6"),d(m,"class","subtitle svelte-hmi1a6"),d($,"class","signature svelte-hmi1a6"),d(x,"class","grid svelte-hmi1a6"),d(y,"id","grid_container"),d(C,"class","svelte-hmi1a6"),d(n,"class","svelte-hmi1a6")},m(t,a){s(t,n,a),i(n,o),i(o,r),i(n,l),i(n,m),i(n,p),i(n,$),i(n,E),i(n,b),i(n,A),i(n,y),i(y,x);for(let t=0;t<S.length;t+=1)S[t].m(x,null);i(n,v),i(n,C),w||(I=g(C,"click",e[1]),w=!0)},p(t,[e]){if(1&e&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(r,t[0]),12&e){let n;for(L=Array(t[3].height),n=0;n<L.length;n+=1){const o=D(t,L,n);S[n]?S[n].p(o,e):(S[n]=G(o),S[n].c(),S[n].m(x,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=L.length}},i:t,o:t,d(t){t&&a(n),c(S,t),w=!1,I()}}}function O(t,e,n){let{name:o}=e;class r{static get ALIVE(){return"alive"}static get DEAD(){return"dead"}constructor(t,e,n){this.setState(t),this.x=e,this.y=n}setState(t){this.state=t}setNextState(t){this.next_state=t}getNeighborsCount(t){let e=0;for(let n=-1;n<2;n++)for(let o=-1;o<2;o++){let l=this.x+n,i=this.y+o;l>=0&&l<t.width&&i>=0&&i<t.height&&t.grid[i][l].state==r.ALIVE&&(0===n&&0===o||e++)}return e}}$((async()=>{i.updateTable(document.getElementById("grid"))}));var l={width:41,height:41},i=new class{constructor(t,e){this.width=t,this.height=e,this.grid=[];for(let n=0;n<e;n++){let e=[];for(let o=0;o<t;o++)e.push(new r(r.DEAD,o,n));this.grid.push(e)}}getCell(t,e){return this.grid[e][t]}toggleCell(t){let e=t.split(","),n=parseInt(e[0]),o=parseInt(e[1]),l=this.getCell(n,o);l.state==r.ALIVE?l.setState(r.DEAD):l.setState(r.ALIVE),l.setNextState(void 0)}nextGen(){for(let t=0;t<this.height;t++)for(let e=0;e<this.width;e++){let n=this.getCell(e,t),o=n.getNeighborsCount(this);n.state==r.ALIVE?2==o||3==o?n.setNextState(r.ALIVE):n.setNextState(r.DEAD):3==o&&n.setNextState(r.ALIVE)}for(let t=0;t<this.height;t++)for(let e=0;e<this.width;e++){let n=this.getCell(e,t);n.state=void 0===n.next_state?r.DEAD:n.next_state}}updateTable(t){for(let t=0;t<this.height;t++)for(let e=0;e<this.width;e++){let n=this.getCell(e,t).state==r.ALIVE?"black":"white",o=String(e)+","+String(t);document.getElementById(o).style.backgroundColor=n}}}(l.width,l.height);return i.getCell(21,19).setState(r.ALIVE),i.getCell(20,20).setState(r.ALIVE),i.getCell(21,20).setState(r.ALIVE),i.getCell(22,20).setState(r.ALIVE),i.getCell(21,21).setState(r.ALIVE),i.getCell(4,2).setState(r.ALIVE),i.getCell(5,3).setState(r.ALIVE),i.getCell(5,4).setState(r.ALIVE),i.getCell(4,4).setState(r.ALIVE),i.getCell(3,4).setState(r.ALIVE),t.$$set=t=>{"name"in t&&n(0,o=t.name)},[o,function(){i.nextGen(),i.updateTable(document.getElementById("table"))},function(t){i.toggleCell(t.target.id),i.updateTable(document.getElementById("table"))},l]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),k(this,t,O,B,l,{name:0})}}({target:document.body,props:{name:"Conway's Game of Life DOM"}})}();
//# sourceMappingURL=bundle.js.map
